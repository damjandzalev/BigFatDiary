@model IEnumerable<BigFatDiary.Models.Data.FoodStuff>

@{
    ViewBag.Title = "Index";
}
<style>

    th, td {
        border-collapse: collapse;
        border-right: solid;
        border-top: solid;
        border-bottom: solid;
        border-color: dimgray;
        padding: 5px;
        color: black;
    }

        th:first-child {
            padding: 0px;
        }

        td:first-child {
            padding: 0px;
        }
    table > tr {
    }

    thead > tr:first-child:hover {
    }

    tbody > tr:hover {
        background-color: lightgray;
        cursor: pointer;
    }

    hr {
        height: 2px;
        margin-bottom: 2px;
        background-color: dimgray;
    }

    h3 {
        padding-left: 25px;
    }

    a:hover {
        text-decoration-line: none;
    }
</style>
<h1>List food stuffs</h1>
<h3>Counting calories made easy</h3>
<hr />
<div style="width:1140px">
    <a href="/FoodStuffs/Create">
        <div class="btn btn-default">
            Insert
        </div>
    </a>
</div>
<div style="width:1140px;border-top:solid;border-color:dimgray;padding-top:25px;">
    <table id="foodstuff_table" class="table">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.AddedBy)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Calories)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Proteins)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Carbohydrates)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Fats)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.MeasurementUnit)
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
            
                <tr onclick="foodDetails(this)">
                    <td value="@item.Name">
                        @Html.DisplayFor(modelItem => item.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.AddedBy)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Calories)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Proteins)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Carbohydrates)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Fats)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.MeasurementUnit)
                    </td>
                </tr>
    }
</tbody>

    </table>
</div>
@section scripts{
    <script>
        $("#foodstuff_table").DataTable();
        function foodDetails(item) {
            location.href = "/FoodStuffs/Details/" + item.firstElementChild.innerText;
        }
    </script>
}